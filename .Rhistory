cancel_agg<-flight_data %>% filter(Cancelled!=0) %>% count(CancellationCode, sort=TRUE)
View(cancel_agg)
cancel_agg$percentage<-cancel_agg$n/(sum(cancel_agg$n))
cancel_agg$n<-NULL
cancel_agg_year<-flight_data %>% filter(Cancelled!=0) %>% count(Year,CancellationCode, sort=TRUE)
View(cancel_agg_year)
View(cancel_agg)
View(cancel_agg_year)
cancel_agg_year<-flight_data %>% filter(Cancelled!=0) %>% count(Month,CancellationCode, sort=TRUE)
names(cancel_agg)<-c('category','measure')
cancel_agg_year<-NULL
#Table for Line Chart
cancel_agg_month<-flight_data %>% filter(Cancelled!=0) %>% count(Month,CancellationCode, sort=TRUE)
View(cancel_agg_month)
#Table for Line Chart
cancel_agg_month<-flight_data %>% filter(Cancelled!=0) %>% count(CancellationCode,Month, sort=TRUE)
names(cancel_agg_month)<-c('group','category','measure')
#Table for Bar Chart
cancel_agg_dow<-flight_data %>% filter(Cancelled!=0) %>% count(CancellationCode,DayOfWeek, sort=TRUE)
names(cancel_agg_dow)<-c('group','category','measure')
View(cancel_agg_month)
#ADD THE "ALL" category
cancel_agg_month_all<-flight_data %>% filter(Cancelled!=0) %>% count(Month, sort=TRUE)
cancel_agg_month_all$CancellationCode<-'All'
#Table for Line Chart
cancel_agg_month<-flight_data %>% filter(Cancelled!=0) %>% count(CancellationCode,Month, sort=TRUE)
View(cancel_agg_month)
View(cancel_agg_month_all)
#Table for Line Chart
cancel_agg_month<-flight_data %>% filter(Cancelled!=0) %>% count(CancellationCode,Month, sort=TRUE)
#ADD THE "ALL" category
cancel_agg_month_all<-flight_data %>% filter(Cancelled!=0) %>% count(Month, sort=TRUE)
cancel_agg_month_all$CancellationCode<-'All'
cancel_agg_month_all<-cancel_agg_month_all[,c(3,1,2)]
cancel_agg_month<-rbind(cancel_agg_month,cancel_agg_month_all)
levels(cancel_agg_month)
levels(cancel_agg_month$CancellationCode)
#Table for Line Chart
cancel_agg_month<-flight_data %>% filter(Cancelled!=0) %>% count(CancellationCode,Month, sort=TRUE)
levels(cancel_agg_month$CancellationCode)
#Table for Line Chart
cancel_agg_month<-flight_data %>% filter(Cancelled!=0 & CancellationCode!='') %>% count(CancellationCode,Month, sort=TRUE)
levels(cancel_agg_month$CancellationCode)
#Table for Line Chart
cancel_agg_month<-flight_data %>% filter(Cancelled!=0 & CancellationCode!="") %>% count(CancellationCode,Month, sort=TRUE)
levels(cancel_agg_month$CancellationCode)
#Table for Line Chart
cancel_agg_month<-flight_data %>% filter(Cancelled!=0 & CancellationCode!="") %>% count(CancellationCode,Month, sort=TRUE)
View(cancel_agg_month)
#Table for Line Chart
cancel_agg_month<-flight_data %>% filter(Cancelled!=0 && CancellationCode!="") %>% count(CancellationCode,Month, sort=TRUE)
#Table for Line Chart
cancel_agg_month<-flight_data %>% filter(Cancelled!=0) %>% count(CancellationCode,Month, sort=TRUE)
levels(cancel_agg_month$CancellationCode)
View(cancel_agg_month)
droplevels(cancel_agg_month)
levels(cancel_agg_month$CancellationCode)
#Table for Line Chart
cancel_agg_month<-flight_data %>% filter(Cancelled!=0) %>% count(CancellationCode,Month, sort=TRUE)
#ADD THE "ALL" category
cancel_agg_month_all<-flight_data %>% filter(Cancelled!=0) %>% count(Month, sort=TRUE)
cancel_agg_month_all$CancellationCode<-'All'
cancel_agg_month_all<-cancel_agg_month_all[,c(3,1,2)]
cancel_agg_month<-rbind(cancel_agg_month,cancel_agg_month_all)
View(cancel_agg_month)
names(cancel_agg_month)<-c('group','category','measure')
cancel_agg_month_all<-NULL
cancel_agg_month$group<-as.character(cancel_agg_month$group)
rm(cancel_agg_month_all)
View(cancel_agg_month)
#Table for Bar Chart
cancel_agg_dow<-flight_data %>% filter(Cancelled!=0) %>% count(CancellationCode,DayOfWeek, sort=TRUE)
cancel_agg_dow_all<-flight_data %>% filter(Cancelled!=0) %>% count(DayOfWeek, sort=TRUE)
cancel_agg_dow_all$CancellationCode<-'All'
cancel_agg_dow_all<-cancel_agg_dow_all[,c(3,1,2)]
cancel_agg_dow<-rbind(cancel_agg_dow,cancel_agg_dow_all)
rm(cancel_agg_dow_all)
names(cancel_agg_dow)<-c('group','category','measure')
cancel_agg_dow$group<-as.character(cancel_agg_dow$group)
View(cancel_agg_month)
View(cancel_agg_dow)
require(RJSONIO)
a<-toJSON(cancel_agg_month)
a
string<-NULL
string<-c(string,'1')
string<-c(string,'1')
string<-NULL
string<-paste(string,'1')
string<-NULL
string<-paste(string,'1')
cancel_agg_month$group[1]
string<-paste(string,'1',':','3')
to_js_input<-function(df){
string<-NULL
if(ncol(df)==3){
for (i in 1:nrow(df)){
string<-paste(string, 'group: ',df$group[i], ' , category: ' , df$category[i], ' , measure: ', df$measure[i], '\n')
}
}
}
to_js_input(cancel_agg_dow)
a<-to_js_input(cancel_agg_dow)
a
to_js_input<-function(df){
string<-NULL
if(ncol(df)==3){
for (i in 1:nrow(df)){
string<-paste(string, 'group: ',df$group[i], ' , category: ' , df$category[i], ' , measure: ', df$measure[i], '\n')
}
}
return string
}
a<-to_js_input(cancel_agg_dow)
to_js_input<-function(df){
string<-NULL
if(ncol(df)==3){
for (i in 1:nrow(df)){
string<-paste(string, 'group: ',df$group[i], ' , category: ' , df$category[i], ' , measure: ', df$measure[i], '\n')
}
}
return(string)
}
a<-to_js_input(cancel_agg_dow)
a
to_js_input<-function(df){
string<-NULL
if(ncol(df)==3){
for (i in 1:nrow(df)){
string<-paste(string, '{ group: ',df$group[i], ' , category: ' , df$category[i], ' , measure: ', df$measure[i], '}, \n')
}
}
return(string)
}
a<-to_js_input(cancel_agg_dow)
a
to_js_input<-function(df){
string<-NULL
if(ncol(df)==3){
for (i in 1:nrow(df)){
string<-paste(string, '{ group: ',df$group[i], ' , category: ' , df$category[i], ' , measure: ', df$measure[i], '},
')
}
}
return(string)
}
a<-to_js_input(cancel_agg_dow)
a
to_js_input<-function(df){
string<-NULL
if(ncol(df)==3){
for (i in 1:nrow(df)){
string<-paste(string, '{ group: ',df$group[i], ' , category: ' , df$category[i], ' , measure: ', df$measure[i], '}, \n')
}
}
return(string)
}
a<-to_js_input(cancel_agg_dow)
a
getwd()
setwd('/Users/frosterchosky/Documents/Projects/flight-analysis')
writeLines(a, "linechart.txt")
to_js_input<-function(df){
string<-NULL
if(ncol(df)==3){
for (i in 1:nrow(df)){
string<-paste(string, '{ group: ',df$group[i], ' , category: ' , df$category[i], ' , measure: ', df$measure[i], '}, \n')
}
} else {
for (i in 1:nrow(df)){
string<-paste(string, '{ category: ' , df$category[i], ' , measure: ', df$measure[i], '}, \n')
}
}
return(string)
}
pie_chart_text<-to_js_input(cancel_agg)
line_chart_text<-to_js_input(cancel_agg_month)
bar_chart_text<-to_js_input(cancel_agg_dow)
pie_chart_text<-to_js_input(cancel_agg)
line_chart_text<-to_js_input(cancel_agg_month)
bar_chart_text<-to_js_input(cancel_agg_dow)
writeLines(pie_chart_text, "piechart.txt")
writeLines(line_chart_text, "linechart.txt")
writeLines(bar_chart_text, "barchart.txt")
to_js_input<-function(df){
string<-NULL
if(ncol(df)==3){
for (i in 1:nrow(df)){
string<-paste(string, '{ group: \"',df$group[i], '\" , category: \"' , df$category[i], '\" , measure: ', df$measure[i], '}, \n')
}
} else {
for (i in 1:nrow(df)){
string<-paste(string, '{ category: \"' , df$category[i], '\" , measure: ', df$measure[i], '}, \n')
}
}
return(string)
}
pie_chart_text<-to_js_input(cancel_agg)
line_chart_text<-to_js_input(cancel_agg_month)
bar_chart_text<-to_js_input(cancel_agg_dow)
writeLines(pie_chart_text, "piechart.txt")
writeLines(line_chart_text, "linechart.txt")
writeLines(bar_chart_text, "barchart.txt")
to_js_input<-function(df){
string<-NULL
if(ncol(df)==3){
for (i in 1:nrow(df)){
string<-paste(string, '{ group: \"',df$group[i], '\" , category: \"' , df$category[i], '\" , measure: ', df$measure[i], '}, \n', sep='')
}
} else {
for (i in 1:nrow(df)){
string<-paste(string, '{ category: \"' , df$category[i], '\" , measure: ', df$measure[i], '}, \n', sep='')
}
}
return(string)
}
pie_chart_text<-to_js_input(cancel_agg)
line_chart_text<-to_js_input(cancel_agg_month)
bar_chart_text<-to_js_input(cancel_agg_dow)
writeLines(pie_chart_text, "piechart.txt")
writeLines(line_chart_text, "linechart.txt")
writeLines(bar_chart_text, "barchart.txt")
#Table for Line Chart
cancel_agg_month<-flight_data %>% filter(Cancelled!=0) %>% count(CancellationCode,Month)
cancel_agg_month_all<-flight_data %>% filter(Cancelled!=0) %>% count(Month)
cancel_agg_month_all$CancellationCode<-'All'
cancel_agg_month_all<-cancel_agg_month_all[,c(3,1,2)]
cancel_agg_month<-rbind(cancel_agg_month,cancel_agg_month_all)
rm(cancel_agg_month_all)
names(cancel_agg_month)<-c('group','category','measure')
cancel_agg_month$group<-as.character(cancel_agg_month$group)
View(cancel_agg_month)
cancel_agg_month<-cancel_agg_month[order(category,group,measure),]
cancel_agg_month<-cancel_agg_month[order(cancel_agg_month$category,cancel_agg_month$group,cancel_agg_month$measure),]
View(cancel_agg_month)
#Table for Line Chart
cancel_agg_month<-flight_data %>% filter(Cancelled!=0) %>% count(CancellationCode,Month)
cancel_agg_month_all<-flight_data %>% filter(Cancelled!=0) %>% count(Month)
cancel_agg_month_all$CancellationCode<-'All'
cancel_agg_month_all<-cancel_agg_month_all[,c(3,1,2)]
cancel_agg_month<-rbind(cancel_agg_month,cancel_agg_month_all)
rm(cancel_agg_month_all)
names(cancel_agg_month)<-c('group','category','measure')
cancel_agg_month$group<-as.character(cancel_agg_month$group)
cancel_agg_month<-cancel_agg_month[order(cancel_agg_month$category,cancel_agg_month$group,cancel_agg_month$measure),]
#Table for Bar Chart
cancel_agg_dow<-flight_data %>% filter(Cancelled!=0) %>% count(CancellationCode,DayOfWeek)
cancel_agg_dow_all<-flight_data %>% filter(Cancelled!=0) %>% count(DayOfWeek)
cancel_agg_dow_all$CancellationCode<-'All'
cancel_agg_dow_all<-cancel_agg_dow_all[,c(3,1,2)]
cancel_agg_dow<-rbind(cancel_agg_dow,cancel_agg_dow_all)
rm(cancel_agg_dow_all)
names(cancel_agg_dow)<-c('group','category','measure')
cancel_agg_dow$group<-as.character(cancel_agg_dow$group)
cancel_agg_dow<-cancel_agg_dow[order(cancel_agg_dow$category,cancel_agg_dow$group,cancel_agg_dow$measure),]
to_js_input<-function(df){
string<-NULL
if(ncol(df)==3){
for (i in 1:nrow(df)){
string<-paste(string, '{ group: \"',df$group[i], '\" , category: \"' , df$category[i], '\" , measure: ', df$measure[i], '}, \n', sep='')
}
} else {
for (i in 1:nrow(df)){
string<-paste(string, '{ category: \"' , df$category[i], '\" , measure: ', df$measure[i], '}, \n', sep='')
}
}
return(string)
}
pie_chart_text<-to_js_input(cancel_agg)
line_chart_text<-to_js_input(cancel_agg_month)
bar_chart_text<-to_js_input(cancel_agg_dow)
writeLines(pie_chart_text, "piechart.txt")
writeLines(line_chart_text, "linechart.txt")
writeLines(bar_chart_text, "barchart.txt")
writeLines(bar_chart_text, "barchart.txt")
bar_chart_text<-to_js_input(cancel_agg_dow)
writeLines(bar_chart_text, "barchart.txt")
flight_data[flight_data=='A']<-'Carrier'
flight_data[flight_data=='B']<-'Weather'
#Read the data
flight_data<-read.csv('/Users/Downloads/2008.csv')
View(cancel_agg_month)
View(flight_data)
#Read the data
flight_data<-read.csv('/Users/frosterchosky/Downloads/2008.csv')
flight_data<-flight_data[flight_data$Cancelled!=0,]
flight_data[flight_data=='A']<-'Carrier'
flight_data$CancellationCode<-as.character(flight_data$CancellationCode)
flight_data[flight_data=='A']<-'Carrier'
flight_data[flight_data=='B']<-'Weather'
flight_data[flight_data=='C']<-'NAS'
flight_data[flight_data=='D']<-'Security'
#Table for Pie Chart
cancel_agg<-flight_data %>% filter(Cancelled!=0) %>% count(CancellationCode)
cancel_agg$percentage<-cancel_agg$n/(sum(cancel_agg$n))
cancel_agg$n<-NULL
names(cancel_agg)<-c('category','measure')
View(cancel_agg)
View(flight_data)
flight_data[flight_data==1,4]
flight_data[flight_data$DayOfWeek==1,4]
flight_data[flight_data$DayOfWeek==1,4]<-'Monday'
flight_data[flight_data$DayOfWeek==2,4]<-'Tuesday'
flight_data[flight_data$DayOfWeek==3,4]<-'Wednesday'
flight_data[flight_data$DayOfWeek==4,4]<-'Thursday'
flight_data[flight_data$DayOfWeek==5,4]<-'Friday'
flight_data[flight_data$DayOfWeek==6,4]<-'Saturday'
flight_data[flight_data$DayOfWeek==7,4]<-'Sunday'
View(flight_data)
#Table for Pie Chart
cancel_agg<-flight_data %>% filter(Cancelled!=0) %>% count(CancellationCode)
cancel_agg$percentage<-cancel_agg$n/(sum(cancel_agg$n))
cancel_agg$n<-NULL
View(cancel_agg)
rm(flight_data)
#Read the data
flight_data<-read.csv('/Users/frosterchosky/Downloads/2008.csv')
flight_data<-flight_data[flight_data$Cancelled!=0,]
flight_data$CancellationCode<-as.character(flight_data$CancellationCode)
flight_data[flight_data=='A']<-'Carrier'
flight_data[flight_data=='B']<-'Weather'
flight_data[flight_data=='C']<-'NAS'
flight_data[flight_data=='D']<-'Security'
flight_data[flight_data$DayOfWeek==1,4]<-'Monday'
flight_data[flight_data$DayOfWeek==2,4]<-'Tuesday'
flight_data[flight_data$DayOfWeek==3,4]<-'Wednesday'
flight_data[flight_data$DayOfWeek==4,4]<-'Thursday'
flight_data[flight_data$DayOfWeek==5,4]<-'Friday'
flight_data[flight_data$DayOfWeek==6,4]<-'Saturday'
flight_data[flight_data$DayOfWeek==7,4]<-'Sunday'
#Table for Pie Chart
cancel_agg<-flight_data %>% filter(Cancelled!=0) %>% count(CancellationCode)
cancel_agg$percentage<-cancel_agg$n/(sum(cancel_agg$n))
cancel_agg$n<-NULL
View(cancel_agg)
names(cancel_agg)<-c('category','measure')
#Table for Line Chart
cancel_agg_month<-flight_data %>% filter(Cancelled!=0) %>% count(CancellationCode,Month)
cancel_agg_month_all<-flight_data %>% filter(Cancelled!=0) %>% count(Month)
cancel_agg_month_all$CancellationCode<-'All'
cancel_agg_month_all<-cancel_agg_month_all[,c(3,1,2)]
cancel_agg_month<-rbind(cancel_agg_month,cancel_agg_month_all)
rm(cancel_agg_month_all)
names(cancel_agg_month)<-c('group','category','measure')
cancel_agg_month$group<-as.character(cancel_agg_month$group)
cancel_agg_month<-cancel_agg_month[order(cancel_agg_month$category,cancel_agg_month$group,cancel_agg_month$measure),]
#Table for Bar Chart
cancel_agg_dow<-flight_data %>% filter(Cancelled!=0) %>% count(CancellationCode,DayOfWeek)
cancel_agg_dow_all<-flight_data %>% filter(Cancelled!=0) %>% count(DayOfWeek)
cancel_agg_dow_all$CancellationCode<-'All'
cancel_agg_dow_all<-cancel_agg_dow_all[,c(3,1,2)]
cancel_agg_dow<-rbind(cancel_agg_dow,cancel_agg_dow_all)
rm(cancel_agg_dow_all)
names(cancel_agg_dow)<-c('group','category','measure')
cancel_agg_dow$group<-as.character(cancel_agg_dow$group)
cancel_agg_dow<-cancel_agg_dow[order(cancel_agg_dow$category,cancel_agg_dow$group,cancel_agg_dow$measure),]
to_js_input<-function(df){
string<-NULL
if(ncol(df)==3){
for (i in 1:nrow(df)){
string<-paste(string, '{ group: \"',df$group[i], '\" , category: \"' , df$category[i], '\" , measure: ', df$measure[i], '}, \n', sep='')
}
} else {
for (i in 1:nrow(df)){
string<-paste(string, '{ category: \"' , df$category[i], '\" , measure: ', df$measure[i], '}, \n', sep='')
}
}
return(string)
}
pie_chart_text<-to_js_input(cancel_agg)
line_chart_text<-to_js_input(cancel_agg_month)
bar_chart_text<-to_js_input(cancel_agg_dow)
writeLines(pie_chart_text, "piechart.txt")
writeLines(line_chart_text, "linechart.txt")
writeLines(bar_chart_text, "barchart.txt")
#Read the data
flight_data<-read.csv('/Users/frosterchosky/Downloads/2008.csv')
View(cancel_agg)
#Table for Pie Chart
cancel_agg<-flight_data %>% filter(Cancelled!=0) %>% count(CancellationCode)
cancel_agg$percentage<-cancel_agg$n/(sum(cancel_agg$n))
cancel_agg$n<-NULL
cancel_agg$CancellationCode<-as.character(cancel_agg$CancellationCode)
names(cancel_agg)<-c('category','measure')
cancel_agg[cancel_agg=='A']<-'Carrier'
cancel_agg[cancel_agg=='B']<-'Weather'
cancel_agg[cancel_agg=='C']<-'NAS'
cancel_agg[cancel_agg=='D']<-'Security'
#Table for Line Chart
cancel_agg_month<-flight_data %>% filter(Cancelled!=0) %>% count(CancellationCode,Month)
cancel_agg_month_all<-flight_data %>% filter(Cancelled!=0) %>% count(Month)
cancel_agg_month_all$CancellationCode<-'All'
cancel_agg_month_all<-cancel_agg_month_all[,c(3,1,2)]
cancel_agg_month<-rbind(cancel_agg_month,cancel_agg_month_all)
rm(cancel_agg_month_all)
names(cancel_agg_month)<-c('group','category','measure')
cancel_agg_month$group<-as.character(cancel_agg_month$group)
cancel_agg_month<-cancel_agg_month[order(cancel_agg_month$category,cancel_agg_month$group,cancel_agg_month$measure),]
cancel_agg_month[cancel_agg_month=='A']<-'Carrier'
cancel_agg_month[cancel_agg_month=='B']<-'Weather'
cancel_agg_month[cancel_agg_month=='C']<-'NAS'
cancel_agg_month[cancel_agg_month=='D']<-'Security'
View(cancel_agg_dow)
#Table for Bar Chart
cancel_agg_dow<-flight_data %>% filter(Cancelled!=0) %>% count(CancellationCode,DayOfWeek)
cancel_agg_dow_all<-flight_data %>% filter(Cancelled!=0) %>% count(DayOfWeek)
cancel_agg_dow_all$CancellationCode<-'All'
cancel_agg_dow_all<-cancel_agg_dow_all[,c(3,1,2)]
cancel_agg_dow<-rbind(cancel_agg_dow,cancel_agg_dow_all)
rm(cancel_agg_dow_all)
names(cancel_agg_dow)<-c('group','category','measure')
cancel_agg_dow$group<-as.character(cancel_agg_dow$group)
cancel_agg_dow<-cancel_agg_dow[order(cancel_agg_dow$category,cancel_agg_dow$group,cancel_agg_dow$measure),]
#Table for Bar Chart
cancel_agg_dow<-flight_data %>% filter(Cancelled!=0) %>% count(CancellationCode,DayOfWeek)
cancel_agg_dow_all<-flight_data %>% filter(Cancelled!=0) %>% count(DayOfWeek)
cancel_agg_dow_all$CancellationCode<-'All'
cancel_agg_dow_all<-cancel_agg_dow_all[,c(3,1,2)]
cancel_agg_dow<-rbind(cancel_agg_dow,cancel_agg_dow_all)
rm(cancel_agg_dow_all)
names(cancel_agg_dow)<-c('group','category','measure')
cancel_agg_dow$group<-as.character(cancel_agg_dow$group)
cancel_agg_dow<-cancel_agg_dow[order(cancel_agg_dow$category,cancel_agg_dow$group,cancel_agg_dow$measure),]
cancel_agg_dow[cancel_agg_dow=='A']<-'Carrier'
cancel_agg_dow[cancel_agg_dow=='B']<-'Weather'
cancel_agg_dow[cancel_agg_dow=='C']<-'NAS'
cancel_agg_dow[cancel_agg_dow=='D']<-'Security'
cancel_agg_dow[cancel_agg_dow$DayOfWeek==1,4]<-'Monday'
cancel_agg_dow[cancel_agg_dow$DayOfWeek==2,4]<-'Tuesday'
View(cancel_agg_month)
#Table for Bar Chart
cancel_agg_dow<-flight_data %>% filter(Cancelled!=0) %>% count(CancellationCode,DayOfWeek)
cancel_agg_dow_all<-flight_data %>% filter(Cancelled!=0) %>% count(DayOfWeek)
cancel_agg_dow_all$CancellationCode<-'All'
cancel_agg_dow_all<-cancel_agg_dow_all[,c(3,1,2)]
cancel_agg_dow<-rbind(cancel_agg_dow,cancel_agg_dow_all)
rm(cancel_agg_dow_all)
names(cancel_agg_dow)<-c('group','category','measure')
cancel_agg_dow$group<-as.character(cancel_agg_dow$group)
cancel_agg_dow<-cancel_agg_dow[order(cancel_agg_dow$category,cancel_agg_dow$group,cancel_agg_dow$measure),]
cancel_agg_dow[cancel_agg_dow=='A']<-'Carrier'
cancel_agg_dow[cancel_agg_dow=='B']<-'Weather'
cancel_agg_dow[cancel_agg_dow=='C']<-'NAS'
cancel_agg_dow[cancel_agg_dow=='D']<-'Security'
cancel_agg_dow[cancel_agg_dow$category==1,4]<-'Monday'
cancel_agg_dow[cancel_agg_dow$category==2,4]<-'Tuesday'
cancel_agg_dow[cancel_agg_dow$category==3,4]<-'Wednesday'
cancel_agg_dow[cancel_agg_dow$category==4,4]<-'Thursday'
cancel_agg_dow[cancel_agg_dow$category==5,4]<-'Friday'
cancel_agg_dow[cancel_agg_dow$category==6,4]<-'Saturday'
cancel_agg_dow[cancel_agg_dow$category==7,4]<-'Sunday'
to_js_input<-function(df){
string<-NULL
if(ncol(df)==3){
for (i in 1:nrow(df)){
string<-paste(string, '{ group: \"',df$group[i], '\" , category: \"' , df$category[i], '\" , measure: ', df$measure[i], '}, \n', sep='')
}
} else {
for (i in 1:nrow(df)){
string<-paste(string, '{ category: \"' , df$category[i], '\" , measure: ', df$measure[i], '}, \n', sep='')
}
}
return(string)
}
pie_chart_text<-to_js_input(cancel_agg)
line_chart_text<-to_js_input(cancel_agg_month)
bar_chart_text<-to_js_input(cancel_agg_dow)
writeLines(pie_chart_text, "piechart.txt")
writeLines(line_chart_text, "linechart.txt")
writeLines(bar_chart_text, "barchart.txt")
View(cancel_agg_dow)
View(cancel_agg_month)
#Table for Bar Chart
cancel_agg_dow<-flight_data %>% filter(Cancelled!=0) %>% count(CancellationCode,DayOfWeek)
cancel_agg_dow_all<-flight_data %>% filter(Cancelled!=0) %>% count(DayOfWeek)
cancel_agg_dow_all$CancellationCode<-'All'
cancel_agg_dow_all<-cancel_agg_dow_all[,c(3,1,2)]
cancel_agg_dow<-rbind(cancel_agg_dow,cancel_agg_dow_all)
rm(cancel_agg_dow_all)
names(cancel_agg_dow)<-c('group','category','measure')
cancel_agg_dow$group<-as.character(cancel_agg_dow$group)
cancel_agg_dow<-cancel_agg_dow[order(cancel_agg_dow$category,cancel_agg_dow$group,cancel_agg_dow$measure),]
cancel_agg_dow[cancel_agg_dow=='A']<-'Carrier'
cancel_agg_dow[cancel_agg_dow=='B']<-'Weather'
cancel_agg_dow[cancel_agg_dow=='C']<-'NAS'
cancel_agg_dow[cancel_agg_dow=='D']<-'Security'
cancel_agg_dow[cancel_agg_dow$category==1,2]<-'Monday'
cancel_agg_dow[cancel_agg_dow$category==2,2]<-'Tuesday'
cancel_agg_dow[cancel_agg_dow$category==3,2]<-'Wednesday'
cancel_agg_dow[cancel_agg_dow$category==4,2]<-'Thursday'
cancel_agg_dow[cancel_agg_dow$category==5,2]<-'Friday'
cancel_agg_dow[cancel_agg_dow$category==6,2]<-'Saturday'
cancel_agg_dow[cancel_agg_dow$category==7,2]<-'Sunday'
to_js_input<-function(df){
string<-NULL
if(ncol(df)==3){
for (i in 1:nrow(df)){
string<-paste(string, '{ group: \"',df$group[i], '\" , category: \"' , df$category[i], '\" , measure: ', df$measure[i], '}, \n', sep='')
}
} else {
for (i in 1:nrow(df)){
string<-paste(string, '{ category: \"' , df$category[i], '\" , measure: ', df$measure[i], '}, \n', sep='')
}
}
return(string)
}
pie_chart_text<-to_js_input(cancel_agg)
line_chart_text<-to_js_input(cancel_agg_month)
bar_chart_text<-to_js_input(cancel_agg_dow)
writeLines(pie_chart_text, "piechart.txt")
writeLines(line_chart_text, "linechart.txt")
writeLines(bar_chart_text, "barchart.txt")
